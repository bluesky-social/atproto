const RESERVED_WORDS = new Set([
  // JavaScript keywords
  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar
  'abstract',
  'arguments',
  'as',
  'async',
  'await',
  'boolean',
  'break',
  'byte',
  'case',
  'catch',
  'char',
  'class',
  'const',
  'continue',
  'debugger',
  'default',
  'delete',
  'do',
  'double',
  'else',
  'enum',
  'eval',
  'export',
  'extends',
  'false',
  'final',
  'finally',
  'float',
  'for',
  'from',
  'function',
  'get',
  'goto',
  'if',
  'implements',
  'import',
  'in',
  'instanceof',
  'int',
  'interface',
  'let',
  'long',
  'native',
  'new',
  'null',
  'of',
  'package',
  'private',
  'protected',
  'public',
  'return',
  'set',
  'short',
  'static',
  'super',
  'switch',
  'synchronized',
  'this',
  'throw',
  'throws',
  'transient',
  'true',
  'try',
  'typeof',
  'undefined',
  'using',
  'var',
  'void',
  'volatile',
  'while',
  'with',
  'yield',
  // Constructors and globals
  'Array',
  'Boolean',
  'Buffer',
  'Date',
  'Error',
  'Function',
  'Infinity',
  'JSON',
  'Map',
  'Math',
  'NaN',
  'Number',
  'Object',
  'Set',
  'String',
  'Symbol',
  'console',
  'document',
  'global',
  'globalThis',
  'window',
  // Test globals
  'afterAll',
  'afterEach',
  'assert',
  'beforeAll',
  'beforeEach',
  'describe',
  'expect',
  'it',
  'test',
  // CommonJS globals
  '__dirname',
  '__filename',
  'require',
  'module',
  'exports',
  // TypeScript
  'Record',
  'any',
  'declare',
  'never',
  'number',
  'object',
  'string',
  'symbol',
  'unknown',
  // Future reserved words
  'constructor',
  'meta',
])
export function isReservedWord(word: string) {
  return RESERVED_WORDS.has(word)
}

export function isSafeIdentifier(name: string) {
  return !isReservedWord(name) && /^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(name)
}
